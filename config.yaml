models:
  # Primary LLM - Used for most AI tasks
  # Used by: Project setup, AI assistant, RAG search
  primary_llm: "us.anthropic.claude-sonnet-4-20250514-v1:0"

  # Lessons extraction - Extracts lessons from documents (fast model)
  # Used by: Lesson extraction from uploaded documents
  lessons_extractor: "us.meta.llama4-maverick-17b-instruct-v1:0"

  # Conflict detection - Finds conflicts between lessons (reasoning model)
  # Used by: Detecting superseding lessons, conflict analysis
  conflict_detector: "us.anthropic.claude-sonnet-4-20250514-v1:0"

  # Embeddings - Used for vector search
  # Used by: Vector ingestion, search queries
  embeddings: "amazon.titan-embed-text-v2:0"

  # Available models for user selection in search UI
  available_search_models:
    - id: "us.anthropic.claude-haiku-4-5-20251001-v1:0"
      name: "Claude 4.5 Haiku"
      description: "Fast and efficient"
    - id: "us.anthropic.claude-sonnet-4-5-20250929-v1:0"
      name: "Claude 4.5 Sonnet"
      description: "Best for complex analysis"
    - id: "us.meta.llama4-maverick-17b-instruct-v1:0"
      name: "Llama 4 Maverick"
      description: "Quick responses"
    - id: "us.amazon.nova-pro-v1:0"
      name: "Amazon Nova Pro"
      description: "Amazon's latest model"

# S3 path patterns
# IMPORTANT: documents/projects/ and projects/ are different paths
# - documents/projects/{name}/ = Document storage for Knowledge Base
# - projects/{name}/ = Project metadata and configuration
s3_paths:
  # Document storage (for Knowledge Base ingestion)
  documents_prefix: "documents"

# Knowledge Base configuration
knowledge_base:
  name: "dpw-project-management-kb"
  data_source_name: "project-documents"
  chunk_size_tokens: 512
  overlap_tokens: 64
  vector_dimension: 1024 # Must match embedding model (Titan v2 = 1024)

# API Gateway configuration
api_gateway:
  throttle:
    rate_limit: 500
    burst_limit: 1000

# Project configuration
project:
  types:
    - "Reconstruction"
    - "Resurface"
    - "Slurry Seal"
    - "Drainage"
    - "Utilities"
    - "Other"

prompts:
  retrieve_and_generate: |
    You are an experienced Public Works engineer assistant.

    Use the provided context to answer the user's question accurately and helpfully.

    Context:
    $search_results$

    User Question: $query$

    Provide a clear, specific answer that:
    1. Directly addresses the question
    2. References relevant regulations or procedures
    3. Suggests next steps when applicable
    4. Warns about common issues
    5. If there is a section number, cite it at the bottom of the page.

    Be concise but thorough.
